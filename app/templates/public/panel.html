{% extends "base.html" %}
{% block title %}Hesap Bilgilerim | AKPAK{% endblock %}

{% block content %}
<h1 class="text-2xl font-semibold mb-4">Hesap Bilgilerim</h1>
<p class="text-sm text-slate-600 mb-4">
  Merhaba, {{ user.ad_soyad }}! Buradan kişisel bilgilerinizi görüntüleyebilir ve şifrenizi değiştirebilirsiniz.
</p>

<div class="bg-white rounded-lg shadow p-6 mb-6">
  <h2 class="font-semibold mb-2">Kişisel Bilgiler</h2>
  <ul class="text-sm text-slate-700 space-y-1">
    <li><span class="font-semibold">E-posta:</span> {{ user.email }}</li>
    <li><span class="font-semibold">Telefon:</span> {{ user.telefon }}</li>
    <li><span class="font-semibold">Rol:</span> {{ user.rol }}</li>
  </ul>
</div>

<div class="bg-white rounded-lg shadow p-6 mb-6">
  <h2 class="font-semibold mb-2">Şifre Değiştir</h2>
  <form method="post" action="{{ url_for('sifre_degistir') }}" class="grid md:grid-cols-3 gap-4 text-sm">
    <div>
      <label class="block mb-1">Mevcut Şifre</label>
      <input name="current_password" type="password" class="w-full border rounded px-2 py-1" required>
    </div>
    <div>
      <label class="block mb-1">Yeni Şifre</label>
      <input name="new_password" type="password" class="w-full border rounded px-2 py-1" required>
    </div>
    <div>
      <label class="block mb-1">Yeni Şifre (Tekrar)</label>
      <input name="new_password2" type="password" class="w-full border rounded px-2 py-1" required>
    </div>
    <div class="md:col-span-3">
      <button class="bg-sky-600 hover:bg-sky-700 text-white px-4 py-2 rounded-md mt-2">Şifreyi Güncelle</button>
    </div>
  </form>
</div>

<div class="bg-white rounded-lg shadow p-6">
  <h2 class="font-semibold mb-2">Bildirimler</h2>
  {% if bildirimler %}
    <ul class="text-sm text-slate-700 space-y-1">
      {% for b in bildirimler %}
      <li>{{ b }}</li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-sm text-slate-600">Henüz bildirim yok.</p>
  {% endif %}
</div>
{% endblock %}
