{% extends "base.html" %}
{% block title %}Şubeler | AKPAK{% endblock %}

{% block content %}
<h1 class="text-2xl font-semibold mb-4">Şubelerimiz</h1>

<p class="text-sm text-slate-600 mb-6">
  Size en yakın şubemizden hızlıca hizmet alabilirsiniz. Yönetim panelinden yapılan
  tüm şube güncellemeleri bu sayfaya anında yansır.
</p>

{% set badge_bg = ['bg-sky-100', 'bg-amber-100', 'bg-emerald-100', 'bg-teal-100', 'bg-indigo-100', 'bg-rose-100', 'bg-orange-100', 'bg-lime-100'] %}
{% set badge_tx = ['text-sky-700', 'text-amber-700', 'text-emerald-700', 'text-teal-700', 'text-indigo-700', 'text-rose-700', 'text-orange-700', 'text-lime-700'] %}
{% set border_cl = ['border-sky-100', 'border-amber-100', 'border-emerald-100', 'border-teal-100', 'border-indigo-100', 'border-rose-100', 'border-orange-100', 'border-lime-100'] %}

<div class="rounded-2xl bg-gradient-to-br from-sky-50 via-slate-50 to-emerald-50 p-5 border border-slate-100">
  {% if not branches or branches|length == 0 %}
    <div class="bg-white rounded-xl shadow-sm border border-slate-100 p-5 text-sm text-slate-600">
      Henüz aktif şube bulunmuyor.
    </div>
  {% else %}
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm">
      {% for b in branches %}
        {% set i = loop.index0 %}
        <div class="bg-white rounded-xl shadow-sm border {{ border_cl[i % (border_cl|length)] }} p-4 flex flex-col gap-1">
          <span class="inline-flex px-2 py-0.5 text-xs rounded-full {{ badge_bg[i % (badge_bg|length)] }} {{ badge_tx[i % (badge_tx|length)] }} font-semibold w-fit">
            {{ b.sehir }}
          </span>
          <h2 class="font-semibold text-lg mt-1">{{ b.ad }}</h2>

          <p class="text-slate-600 text-xs">
            {{ b.adres if b.adres else 'Adres: Henüz eklenmedi' }}
          </p>
          <p class="text-slate-500 text-xs mt-1">
            Tel: {{ b.telefon if b.telefon else 'Yakında' }}
          </p>

          <div class="mt-2 text-[11px] text-slate-500">
            {% if b.aktif == 1 %}
              <span class="inline-flex px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-100">Aktif</span>
            {% else %}
              <span class="inline-flex px-2 py-0.5 rounded-full bg-slate-50 text-slate-600 border border-slate-100">Pasif</span>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  {% endif %}
</div>

<div class="mt-8 bg-sky-50 border border-sky-100 rounded-xl p-4 text-sm flex flex-col md:flex-row items-center justify-between gap-3">
  <div>
    <h3 class="font-semibold mb-1">Online sipariş ile şubeye gelmeden hizmet alın</h3>
    <p class="text-slate-600">
      Sipariş oluşturduğunuzda kuryemiz adresinizden teslim alır ve en yakın şubemize yönlendirir.
    </p>
  </div>
  <a href="{{ url_for('siparis_olustur') }}"
     class="inline-flex items-center px-4 py-2 rounded-md bg-sky-600 hover:bg-sky-700 text-white font-semibold text-sm">
    Online Sipariş Ver
  </a>
</div>
{% endblock %}
